<!doctype html>
<html lang="tr">
<head>
  {% load static %}
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Erişim Reddedildi - Yetki Yok</title>
  <style>
    :root{
      --bg:#0f1724;
      --card:#0b1220;
      --accent:#ff6b6b;
      --muted:#9aa4b2;
      --glass: rgba(255,255,255,0.04);
      --radius:18px;
      font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto;
    }
    html,body{height:100%;margin:0}
    body{
      background: radial-gradient(1200px 600px at 10% 20%, rgba(255,107,107,0.06), transparent),
                  linear-gradient(180deg, #081228 0%, #071022 100%), var(--bg);
      color:#e6eef6;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
      text-rendering:optimizeLegibility;
    }

    .card{
      width:100%;max-width:500px;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:var(--radius);
      box-shadow: 0 10px 30px rgba(2,6,23,0.6);
      padding:48px 36px;
      text-align:center;
      border:1px solid rgba(255,255,255,0.03);
    }

    .icon-wrap{
      width:170px;height:170px;
      background:var(--glass);
      border-radius:26px;
      display:flex;align-items:center;justify-content:center;
      box-shadow: inset 0 -6px 18px rgba(0,0,0,0.4);
      border:1px solid rgba(255,255,255,0.03);
      margin:0 auto 28px auto;
    }

    h1{font-size:32px;margin:0 0 16px 0;letter-spacing:-0.01em}
    p.lead{margin:0;color:var(--muted);font-size:18px;line-height:1.6}

    .btn{
      margin-top:30px;
      padding:14px 22px;
      background:linear-gradient(90deg,var(--accent),#ff8a8a);
      border:0;border-radius:14px;
      color:#081022;font-size:18px;font-weight:600;
      cursor:pointer;
    }
  </style>
</head>
<body>
  <div class="card">
    <div class="icon-wrap">
      <svg width="110" height="110" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect x="3" y="10" width="18" height="11" rx="2" stroke="white" stroke-width="1.6" fill="none"/>
        <path d="M7 10V7a5 5 0 0110 0v3" stroke="white" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
        <circle cx="12" cy="15" r="2" fill="white" />
      </svg>
    </div>

    <h1>Erişim yetkiniz yok</h1>
    <p class="lead">Bu sayfayı görüntüleme izniniz bulunmamaktadır.</p>

    <button class="btn" onclick="location.href='/'">Ana Sayfaya Dön</button>
    <button class="btn" onclick="logout()">Çıkış Yap</button>
    
  </div>
</body>

<!-- jQuery -->
<script src="{% static 'plugins/jquery/jquery.min.js' %}"></script>
<script>
  function clearAllAuth() {
    // sessionStorage ve localStorage
    sessionStorage.clear();
    localStorage.clear();
        // Cookie temizleme
    const cookies = document.cookie.split("; ");
    for (const c of cookies) {
        const eqPos = c.indexOf("=");
        const name = eqPos > -1 ? c.substr(0, eqPos) : c;
        document.cookie = name + "=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/";
    }
}
  function logout(){
    $.ajax({
        type: "POST",
        url: "/api-auth/logout/",
        data: {csrfmiddlewaretoken: '{{ csrf_token }}'},
        success: function (msg) {
            clearAllAuth();
            window.location.href = "/login";
            Toast.fire({icon: 'success',body: msg.detail })
        },
        error: function (error) {
            Toast.fire({icon: 'error', title: "ERROR :".concat(error)})
        }
    });
  }
</script>
</html>